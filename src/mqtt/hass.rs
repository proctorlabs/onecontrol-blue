use serde::{Deserialize, Serialize};

macro_rules! HassPayload {
    ($( $name:ident { $( $full:ident : $type:ty => $short:literal $long:literal , )* } )*) => {$(
        #[derive(Serialize, Deserialize, Clone, Debug, Default)]
        pub struct $name {
            $(
                #[serde(
                    rename = $short,
                    alias = $long,
                    skip_serializing_if = "Option::is_none"
                )]
                pub $full : Option<$type>,
            )*
        }
    )*};
}

// From the HASS documentation @ https://www.home-assistant.io/docs/mqtt/discovery/
// Used this regex: ^'([^']*)':\s*'([^']*)',$
// Then used this replacement: $2: String => "$1" "$2",
HassPayload! {
    HassDeviceInfo {
        configuration_url:String => "cu" "configuration_url",
        connections:String => "cns" "connections",
        identifiers:String => "ids" "identifiers",
        name:String => "name" "name",
        manufacturer:String => "mf" "manufacturer",
        model:String => "mdl" "model",
        sw_version:String => "sw" "sw_version",
        suggested_area:String => "sa" "suggested_area",
    }

    HassDiscoveryInfo {
        action_topic:String => "act_t" "action_topic",
        action_template:String => "act_tpl" "action_template",
        automation_type:String => "atype" "automation_type",
        aux_command_topic:String => "aux_cmd_t" "aux_command_topic",
        aux_state_template:String => "aux_stat_tpl" "aux_state_template",
        aux_state_topic:String => "aux_stat_t" "aux_state_topic",
        available_tones:String => "av_tones" "available_tones",
        availability: String => "avty" "availability",
        availability_mode:String => "avty_mode" "availability_mode",
        availability_topic:String => "avty_t" "availability_topic",
        availability_template:String => "avty_tpl" "availability_template",
        away_mode_command_topic:String => "away_mode_cmd_t" "away_mode_command_topic",
        away_mode_state_template:String => "away_mode_stat_tpl" "away_mode_state_template",
        away_mode_state_topic:String => "away_mode_stat_t" "away_mode_state_topic",
        blue_template:String => "b_tpl" "blue_template",
        brightness_command_topic:String => "bri_cmd_t" "brightness_command_topic",
        brightness_command_template:String => "bri_cmd_tpl" "brightness_command_template",
        brightness_scale:String => "bri_scl" "brightness_scale",
        brightness_state_topic:String => "bri_stat_t" "brightness_state_topic",
        brightness_template:String => "bri_tpl" "brightness_template",
        brightness_value_template:String => "bri_val_tpl" "brightness_value_template",
        color_temp_command_template:String => "clr_temp_cmd_tpl" "color_temp_command_template",
        battery_level_topic:String => "bat_lev_t" "battery_level_topic",
        battery_level_template:String => "bat_lev_tpl" "battery_level_template",
        charging_topic:String => "chrg_t" "charging_topic",
        charging_template:String => "chrg_tpl" "charging_template",
        color_temp_command_topic:String => "clr_temp_cmd_t" "color_temp_command_topic",
        color_temp_state_topic:String => "clr_temp_stat_t" "color_temp_state_topic",
        color_temp_template:String => "clr_temp_tpl" "color_temp_template",
        color_temp_value_template:String => "clr_temp_val_tpl" "color_temp_value_template",
        cleaning_topic:String => "cln_t" "cleaning_topic",
        cleaning_template:String => "cln_tpl" "cleaning_template",
        command_off_template:String => "cmd_off_tpl" "command_off_template",
        command_on_template:String => "cmd_on_tpl" "command_on_template",
        command_topic:String => "cmd_t" "command_topic",
        command_template:String => "cmd_tpl" "command_template",
        code_arm_required:String => "cod_arm_req" "code_arm_required",
        code_disarm_required:String => "cod_dis_req" "code_disarm_required",
        code_trigger_required:String => "cod_trig_req" "code_trigger_required",
        current_temperature_topic:String => "curr_temp_t" "current_temperature_topic",
        current_temperature_template:String => "curr_temp_tpl" "current_temperature_template",
        device:HassDeviceInfo => "dev" "device",
        device_class:String => "dev_cla" "device_class",
        docked_topic:String => "dock_t" "docked_topic",
        docked_template:String => "dock_tpl" "docked_template",
        encoding:String => "e" "encoding",
        entity_category:String => "ent_cat" "entity_category",
        error_topic:String => "err_t" "error_topic",
        error_template:String => "err_tpl" "error_template",
        fan_speed_topic:String => "fanspd_t" "fan_speed_topic",
        fan_speed_template:String => "fanspd_tpl" "fan_speed_template",
        fan_speed_list:String => "fanspd_lst" "fan_speed_list",
        flash_time_long:String => "flsh_tlng" "flash_time_long",
        flash_time_short:String => "flsh_tsht" "flash_time_short",
        effect_command_topic:String => "fx_cmd_t" "effect_command_topic",
        effect_command_template:String => "fx_cmd_tpl" "effect_command_template",
        effect_list:String => "fx_list" "effect_list",
        effect_state_topic:String => "fx_stat_t" "effect_state_topic",
        effect_template:String => "fx_tpl" "effect_template",
        effect_value_template:String => "fx_val_tpl" "effect_value_template",
        expire_after:String => "exp_aft" "expire_after",
        fan_mode_command_template:String => "fan_mode_cmd_tpl" "fan_mode_command_template",
        fan_mode_command_topic:String => "fan_mode_cmd_t" "fan_mode_command_topic",
        fan_mode_state_template:String => "fan_mode_stat_tpl" "fan_mode_state_template",
        fan_mode_state_topic:String => "fan_mode_stat_t" "fan_mode_state_topic",
        force_update:String => "frc_upd" "force_update",
        green_template:String => "g_tpl" "green_template",
        hold_command_template:String => "hold_cmd_tpl" "hold_command_template",
        hold_command_topic:String => "hold_cmd_t" "hold_command_topic",
        hold_state_template:String => "hold_stat_tpl" "hold_state_template",
        hold_state_topic:String => "hold_stat_t" "hold_state_topic",
        hs_command_topic:String => "hs_cmd_t" "hs_command_topic",
        hs_state_topic:String => "hs_stat_t" "hs_state_topic",
        hs_value_template:String => "hs_val_tpl" "hs_value_template",
        icon:String => "ic" "icon",
        initial:String => "init" "initial",
        target_humidity_command_topic:String => "hum_cmd_t" "target_humidity_command_topic",
        target_humidity_command_template:String => "hum_cmd_tpl" "target_humidity_command_template",
        target_humidity_state_topic:String => "hum_stat_t" "target_humidity_state_topic",
        target_humidity_state_template:String => "hum_stat_tpl" "target_humidity_state_template",
        json_attributes:String => "json_attr" "json_attributes",
        json_attributes_topic:String => "json_attr_t" "json_attributes_topic",
        json_attributes_template:String => "json_attr_tpl" "json_attributes_template",
        max_mireds:String => "max_mirs" "max_mireds",
        min_mireds:String => "min_mirs" "min_mireds",
        max_temp:String => "max_temp" "max_temp",
        min_temp:String => "min_temp" "min_temp",
        max_humidity:String => "max_hum" "max_humidity",
        min_humidity:String => "min_hum" "min_humidity",
        mode_command_template:String => "mode_cmd_tpl" "mode_command_template",
        mode_command_topic:String => "mode_cmd_t" "mode_command_topic",
        mode_state_template:String => "mode_stat_tpl" "mode_state_template",
        mode_state_topic:String => "mode_stat_t" "mode_state_topic",
        modes:String => "modes" "modes",
        name:String => "name" "name",
        object_id:String => "obj_id" "object_id",
        off_delay:String => "off_dly" "off_delay",
        on_command_type:String => "on_cmd_type" "on_command_type",
        optimistic:String => "opt" "optimistic",
        oscillation_command_topic:String => "osc_cmd_t" "oscillation_command_topic",
        oscillation_command_template:String => "osc_cmd_tpl" "oscillation_command_template",
        oscillation_state_topic:String => "osc_stat_t" "oscillation_state_topic",
        oscillation_value_template:String => "osc_val_tpl" "oscillation_value_template",
        percentage_command_topic:String => "pct_cmd_t" "percentage_command_topic",
        percentage_command_template:String => "pct_cmd_tpl" "percentage_command_template",
        percentage_state_topic:String => "pct_stat_t" "percentage_state_topic",
        percentage_value_template:String => "pct_val_tpl" "percentage_value_template",
        payload:String => "pl" "payload",
        payload_arm_away:String => "pl_arm_away" "payload_arm_away",
        payload_arm_home:String => "pl_arm_home" "payload_arm_home",
        payload_arm_custom_bypass:String => "pl_arm_custom_b" "payload_arm_custom_bypass",
        payload_arm_night:String => "pl_arm_nite" "payload_arm_night",
        payload_available:String => "pl_avail" "payload_available",
        payload_clean_spot:String => "pl_cln_sp" "payload_clean_spot",
        payload_close:String => "pl_cls" "payload_close",
        payload_disarm:String => "pl_disarm" "payload_disarm",
        payload_home:String => "pl_home" "payload_home",
        payload_lock:String => "pl_lock" "payload_lock",
        payload_locate:String => "pl_loc" "payload_locate",
        payload_not_available:String => "pl_not_avail" "payload_not_available",
        payload_not_home:String => "pl_not_home" "payload_not_home",
        payload_off:String => "pl_off" "payload_off",
        payload_on:String => "pl_on" "payload_on",
        payload_open:String => "pl_open" "payload_open",
        payload_oscillation_off:String => "pl_osc_off" "payload_oscillation_off",
        payload_oscillation_on:String => "pl_osc_on" "payload_oscillation_on",
        payload_pause:String => "pl_paus" "payload_pause",
        payload_stop:String => "pl_stop" "payload_stop",
        payload_start:String => "pl_strt" "payload_start",
        payload_start_pause:String => "pl_stpa" "payload_start_pause",
        payload_return_to_base:String => "pl_ret" "payload_return_to_base",
        payload_reset_humidity:String => "pl_rst_hum" "payload_reset_humidity",
        payload_reset_mode:String => "pl_rst_mode" "payload_reset_mode",
        payload_reset_percentage:String => "pl_rst_pct" "payload_reset_percentage",
        payload_reset_preset_mode:String => "pl_rst_pr_mode" "payload_reset_preset_mode",
        payload_turn_off:String => "pl_toff" "payload_turn_off",
        payload_turn_on:String => "pl_ton" "payload_turn_on",
        payload_trigger:String => "pl_trig" "payload_trigger",
        payload_unlock:String => "pl_unlk" "payload_unlock",
        position_closed:String => "pos_clsd" "position_closed",
        position_open:String => "pos_open" "position_open",
        power_command_topic:String => "pow_cmd_t" "power_command_topic",
        power_state_topic:String => "pow_stat_t" "power_state_topic",
        power_state_template:String => "pow_stat_tpl" "power_state_template",
        preset_mode_command_topic:String => "pr_mode_cmd_t" "preset_mode_command_topic",
        preset_mode_command_template:String => "pr_mode_cmd_tpl" "preset_mode_command_template",
        preset_mode_state_topic:String => "pr_mode_stat_t" "preset_mode_state_topic",
        preset_mode_value_template:String => "pr_mode_val_tpl" "preset_mode_value_template",
        preset_modes:String => "pr_modes" "preset_modes",
        red_template:String => "r_tpl" "red_template",
        retain:String => "ret" "retain",
        rgb_command_template:String => "rgb_cmd_tpl" "rgb_command_template",
        rgb_command_topic:String => "rgb_cmd_t" "rgb_command_topic",
        rgb_state_topic:String => "rgb_stat_t" "rgb_state_topic",
        rgb_value_template:String => "rgb_val_tpl" "rgb_value_template",
        send_command_topic:String => "send_cmd_t" "send_command_topic",
        send_if_off:String => "send_if_off" "send_if_off",
        set_fan_speed_topic:String => "set_fan_spd_t" "set_fan_speed_topic",
        set_position_template:String => "set_pos_tpl" "set_position_template",
        set_position_topic:String => "set_pos_t" "set_position_topic",
        position_topic:String => "pos_t" "position_topic",
        position_template:String => "pos_tpl" "position_template",
        speed_range_min:String => "spd_rng_min" "speed_range_min",
        speed_range_max:String => "spd_rng_max" "speed_range_max",
        source_type:String => "src_type" "source_type",
        state_class:String => "stat_cla" "state_class",
        state_closed:String => "stat_clsd" "state_closed",
        state_closing:String => "stat_closing" "state_closing",
        state_off:String => "stat_off" "state_off",
        state_on:String => "stat_on" "state_on",
        state_open:String => "stat_open" "state_open",
        state_opening:String => "stat_opening" "state_opening",
        state_stopped:String => "stat_stopped" "state_stopped",
        state_locked:String => "stat_locked" "state_locked",
        state_unlocked:String => "stat_unlocked" "state_unlocked",
        state_topic:String => "stat_t" "state_topic",
        state_template:String => "stat_tpl" "state_template",
        state_value_template:String => "stat_val_tpl" "state_value_template",
        subtype:String => "stype" "subtype",
        support_duration:String => "sup_duration" "support_duration",
        support_volume_set:String => "sup_vol" "support_volume_set",
        supported_features:String => "sup_feat" "supported_features",
        supported_turn_off:String => "sup_off" "supported_turn_off",
        swing_mode_command_template:String => "swing_mode_cmd_tpl" "swing_mode_command_template",
        swing_mode_command_topic:String => "swing_mode_cmd_t" "swing_mode_command_topic",
        swing_mode_state_template:String => "swing_mode_stat_tpl" "swing_mode_state_template",
        swing_mode_state_topic:String => "swing_mode_stat_t" "swing_mode_state_topic",
        temperature_command_template:String => "temp_cmd_tpl" "temperature_command_template",
        temperature_command_topic:String => "temp_cmd_t" "temperature_command_topic",
        temperature_high_command_template:String => "temp_hi_cmd_tpl" "temperature_high_command_template",
        temperature_high_command_topic:String => "temp_hi_cmd_t" "temperature_high_command_topic",
        temperature_high_state_template:String => "temp_hi_stat_tpl" "temperature_high_state_template",
        temperature_high_state_topic:String => "temp_hi_stat_t" "temperature_high_state_topic",
        temperature_low_command_template:String => "temp_lo_cmd_tpl" "temperature_low_command_template",
        temperature_low_command_topic:String => "temp_lo_cmd_t" "temperature_low_command_topic",
        temperature_low_state_template:String => "temp_lo_stat_tpl" "temperature_low_state_template",
        temperature_low_state_topic:String => "temp_lo_stat_t" "temperature_low_state_topic",
        temperature_state_template:String => "temp_stat_tpl" "temperature_state_template",
        temperature_state_topic:String => "temp_stat_t" "temperature_state_topic",
        temperature_unit:String => "temp_unit" "temperature_unit",
        tilt_closed_value:String => "tilt_clsd_val" "tilt_closed_value",
        tilt_command_topic:String => "tilt_cmd_t" "tilt_command_topic",
        tilt_command_template:String => "tilt_cmd_tpl" "tilt_command_template",
        tilt_invert_state:String => "tilt_inv_stat" "tilt_invert_state",
        tilt_max:String => "tilt_max" "tilt_max",
        tilt_min:String => "tilt_min" "tilt_min",
        tilt_opened_value:String => "tilt_opnd_val" "tilt_opened_value",
        tilt_optimistic:String => "tilt_opt" "tilt_optimistic",
        tilt_status_topic:String => "tilt_status_t" "tilt_status_topic",
        tilt_status_template:String => "tilt_status_tpl" "tilt_status_template",
        topic:String => "t" "topic",
        unique_id:String => "uniq_id" "unique_id",
        unit_of_measurement:String => "unit_of_meas" "unit_of_measurement",
        value_template:String => "val_tpl" "value_template",
        white_value_command_topic:String => "whit_val_cmd_t" "white_value_command_topic",
        white_value_scale:String => "whit_val_scl" "white_value_scale",
        white_value_state_topic:String => "whit_val_stat_t" "white_value_state_topic",
        white_value_template:String => "whit_val_tpl" "white_value_template",
        xy_command_topic:String => "xy_cmd_t" "xy_command_topic",
        xy_state_topic:String => "xy_stat_t" "xy_state_topic",
        xy_value_template:String => "xy_val_tpl" "xy_value_template",
    }
}
